<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Daniel J. Velleman">

<title>How To Prove It With Lean</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./Chap1.html" rel="next">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="HTPIwLstyles.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./index.html">序言</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">How To Prove It With Lean</a> 
        <div class="sidebar-tools-main">
    <a href="./How-To-Prove-It-With-Lean.pdf" title="Download PDF" class="quarto-navigation-tool px-1" aria-label="Download PDF"><i class="bi bi-file-pdf"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">序言</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chap1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Sentential Logic</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chap2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Quantificational Logic</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./IntroLean.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction to Lean</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chap3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Proofs</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chap4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Relations</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chap5.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Functions</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chap6.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Mathematical Induction</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chap7.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Number Theory</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Chap8.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Infinite Sets</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./Appendix.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Appendix</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">In This Chapter</h2>
   
  <ul class="collapse">
  <li><a href="#序言" id="toc-序言" class="nav-link active" data-scroll-target="#序言">序言</a>
  <ul class="collapse">
  <li><a href="#关于本书" id="toc-关于本书" class="nav-link" data-scroll-target="#关于本书">关于本书</a></li>
  <li><a href="#关于-lean" id="toc-关于-lean" class="nav-link" data-scroll-target="#关于-lean">关于 Lean</a></li>
  <li><a href="#lean-的安装" id="toc-lean-的安装" class="nav-link" data-scroll-target="#lean-的安装">Lean 的安装</a></li>
  <li><a href="#使用-gitpod" id="toc-使用-gitpod" class="nav-link" data-scroll-target="#使用-gitpod">使用 Gitpod</a></li>
  <li><a href="#关于-htpi-lean-软件包" id="toc-关于-htpi-lean-软件包" class="nav-link" data-scroll-target="#关于-htpi-lean-软件包">关于 HTPI Lean 软件包</a></li>
  <li><a href="#许可证" id="toc-许可证" class="nav-link" data-scroll-target="#许可证">许可证</a></li>
  <li><a href="#致谢" id="toc-致谢" class="nav-link" data-scroll-target="#致谢">致谢</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">
<div class="hidden">
$$
\newcommand{\setmin}{\mathbin{\backslash}}
\newcommand{\symmdiff}{\mathbin{∆}}
$$
</div>

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">How To Prove It With Lean</h1>
</div>


<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Author</div>
  <div class="quarto-title-meta-heading">Affiliations</div>
  
    <div class="quarto-title-meta-contents">
    <p class="author">Daniel J. Velleman <a href="https://orcid.org/0000-0003-4632-1742" class="quarto-title-author-orcid"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg=="></a></p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            Amherst College
          </p>
        <p class="affiliation">
            University of Vermont
          </p>
      </div>
  </div>

<div class="quarto-title-meta">

      
  
    
  </div>
  


</header>


<!-- # Preface {.unnumbered} -->
<section id="序言" class="level1 unnumbered">
<h1 class="unnumbered">序言</h1>
<!-- ## About This Book -->
<section id="关于本书" class="level2">
<h2 class="anchored" data-anchor-id="关于本书">关于本书</h2>
<!-- This book is intended to accompany my book [*How To Prove It: A Structured Approach, 3rd edition*](https://doi.org/10.1017/9781108539890) (henceforth called *HTPI*), which is published by Cambridge University Press.  Although this book is self-contained, we will sometimes have occasion to refer to passages in *HTPI*, so this book will be easiest to understand if you have a copy of *HTPI* available to you. -->
<p>这本书是为了配合我所著的 <a href="https://doi.org/10.1017/9781108539890"><em>How To Prove It: A Structured Approach, 3rd edition</em></a>（以下简称 <em>HTPI</em>）而编写的，<em>HTPI</em> 由剑桥大学出版社出版。尽管本书是自成一体的，但我们有时会引用 <em>HTPI</em> 中的段落，因此，如果你手边有一本 <em>HTPI</em>，理解本书将会更加容易。</p>
<!-- *HTPI* explains a systematic approach to constructing mathematical proofs.  The purpose of this book is to show you how to use a computer software package called *Lean* to help you master the techniques presented in *HTPI*.  Lean is free software that is available for Windows, MacOS, and Unix computers.  To get the most out of this book, you will need to download and install Lean on your computer.  We will explain how to do that below.  An alternative is to run Lean on the web using Gitpod; we also explain how to do that below. -->
<p><em>HTPI</em> 讲述了一种构建数学证明的系统性方法。本书的目的是向你展示如何使用一个名为 <em>Lean</em> 的计算机软件包，以帮助你掌握 <em>HTPI</em> 中介绍的技术。Lean 是一款在 Windows、MacOS 和 Unix 系统的计算机上都可免费使用的软件 。为了充分使用本书的内容，你需要在你的计算机上下载并安装 Lean。我们将在下文中介绍如何进行安装。另一种选择是通过 Gitpod 在线运行 Lean，我们也将在下文中解释如何操作。</p>
<!-- The chapters and sections of this book are numbered to match the sections of *HTPI* to which they correspond.  The first two chapters of *HTPI* cover preliminary topics in elementary logic and set theory that are needed to understand the proof techniques presented in later chapters.  We assume that you are already familiar with that material (if not, go read those chapters in *HTPI*!), so Chapters 1 and 2 of this book will just briefly summarize the most important points.  Those chapters are followed by an introduction to Lean that explains the basics of using Lean to write proofs.  The presentation of proof techniques in *HTPI* begins in earnest in Chapter 3, so that is where we will begin to discuss how Lean can be used to master those techniques. -->
<p>本书的章节和小节编号与 <em>HTPI</em> 中的相应部分相匹配。<em>HTPI</em> 的前两章涵盖了理解后续章节证明技巧所需的基础逻辑和集合论的初步内容。我们假设你已经熟悉这些内容（如果还不熟悉，去阅读 <em>HTPI</em> 的相关章节吧！），因此本书的第 1 章和第 2 章只会简要总结最重要的要点。这两章之后，我们会介绍 Lean 的基础知识，并展示如何使用 Lean 来编写证明。我们将从第 3 章开始正式介绍 <em>HTPI</em> 中的证明技巧，也将在那里开始讨论如何使用 Lean 来帮助掌握这些技巧。</p>
<!-- If you are reading this book online, then at the end of the title in the left margin you will find an icon that is a link to a pdf version of the book.  Below that is a search box, which you can use to search for any word or phrase anywhere in the book.  Below the search box is a list of the chapters of the book.  Click on any chapter to go to that chapter.  Within each chapter, a table of contents in the right margin lists the sections in that chapter.  Again, you can go to any section by clicking on it.  At the end of each chapter there are links to take you to the next or previous chapter. -->
<p>如果你是在线阅读本书，在左侧边缘的标题末尾，你会找到一个图标，点击该图标可以获取本书的 PDF 版本。图标下方是一个搜索框，你可以使用它在书中搜索任何单词或短语。再往下是本书各章节的列表，点击任何章节即可跳转到对应章节。在每个章节中，右侧边缘的目录列出了该章节中的各个部分，同样，你可以通过点击跳转到任何部分。每章末尾还有链接，方便你跳转到上一章或下一章。</p>
<!-- ## About Lean -->
</section>
<section id="关于-lean" class="level2">
<h2 class="anchored" data-anchor-id="关于-lean">关于 Lean</h2>
<!-- [Lean](https://leanprover.github.io) is a kind of software package called a *proof assistant*.  What that means is that Lean can help you to write proofs.  As we will see over the course of this book, there are several ways in which Lean can be helpful.  First of all, if you type a proof into Lean, then Lean can check the correctness of the proof and point out errors.  As you are typing a proof into Lean, it will keep track of what has been accomplished so far in the proof and what remains to be done to finish the proof, and it will display that information for you.  That can keep you moving in the right direction as you are figuring out a proof.  And sometimes Lean can fill in small details of the proof for you. -->
<p><a href="https://leanprover.github.io">Lean</a> 是一种被称为 <em>证明助手</em> 的软件包，它可以帮助你编写数学证明。我们将在本书中看到，Lean 可以在多个方面提供帮助。首先，如果你将证明输入 Lean，Lean 会检查证明的正确性并指出错误。在你输入证明的过程中，Lean 会跟踪当前已完成的部分和尚未完成的部分，并将这些信息显示给你。这有助于你在推导证明时保持正确的方向。有时，Lean 还可以为你补充证明中的一些小细节。</p>
<!-- Of course, to make this possible, you must type your proof in a format that Lean understands.  Much of this book will be taken up with explaining how to write a proof so that Lean will understand it. -->
<p>当然，要实现这一点，你必须以 Lean 能够理解的格式输入你的证明。本书的大部分内容将用于解释如何编写 Lean 能理解的证明。</p>
<!-- ## Installing Lean -->
</section>
<section id="lean-的安装" class="level2">
<h2 class="anchored" data-anchor-id="lean-的安装">Lean 的安装</h2>
<!-- These instructions are based on the installation procedure that is describe [here](https://lean-lang.org/lean4/doc/quickstart.html).  Alternative installation procedures can be found [here](https://leanprover-community.github.io/get_started.html). -->
<p>这些安装指引基于<a href="https://lean-lang.org/lean4/doc/quickstart.html">此处</a>描述的安装步骤。其他安装方法可以在<a href="https://leanprover-community.github.io/get_started.html">这里</a>找到。</p>
<!-- We will be using Visual Studio Code to run Lean, so you will need to install VS Code first.  VS Code is free and can be downloaded [here](https://code.visualstudio.com). -->
<p>我们将使用 Visual Studio Code 来运行 Lean，因此你需要先安装 VS Code。VS Code 可以从<a href="https://code.visualstudio.com">这里</a>免费下载。</p>
<!-- You will also need the Lean package that accompanies this book, which can be downloaded from [https://github.com/djvelleman/HTPILeanPackage](https://github.com/djvelleman/HTPILeanPackage).  After following the link, click on the green "Code" button and, in the pop-up menu, select "Download ZIP".  Open the downloaded zip file to create a folder containing the HTPI Lean package.  You can put this folder wherever you want on your computer. -->
<p>您还需要从<a href="https://github.com/djvelleman/HTPILeanPackage">https://github.com/djvelleman/HTPILeanPackage</a>下载与本书配套的 Lean 软件包。点击链接后，点击绿色的“Code”按钮，在弹出的菜单中选择“Download ZIP”。下载完成后，解压该 ZIP 文件，创建一个包含 HTPI Lean 软件包的文件夹。您可以将此文件夹放置在计算机上的任意位置。</p>
<!-- Now open VS Code.  You should see a window that looks something like this: -->
<p>现在打开 VS Code，你应该会看到一个类似这样的窗口：</p>
<p><img src="Images/VSCodeStart.png" class="img-fluid"></p>
<!-- Click on the *Extensions* icon on the left side of the window, which is circled in red in the image above.  That will bring up a list of available extensions: -->
<p>点击窗口左侧的 <em>扩展</em> 图标（上图中红色圈出处），这将打开一个可用扩展程序列表：</p>
<p><img src="Images/FindExtension.png" class="img-fluid"></p>
<!-- In the *Search Extensions in Marketplace* field, type "lean4".  VS Code should find the Lean 4 extension and display it: -->
<p>在 <em>Search Extensions in Marketplace</em> 处，输入“lean4”，VS Code 应该会找到 Lean 4 扩展并将其显示出来：</p>
<p><img src="Images/InstallExtension.png" class="img-fluid"></p>
<!-- Click on "Install" to install the Lean 4 extension. -->
<p>点击 Install 安装 Lean 4 扩展。</p>
<!-- Next, in VS Code, select "Open Folder ..." from the File menu and open the folder containing the HTPI Lean package that you downloaded earlier.  Under the heading "Explorer" on the left side of the window, you should see a list of the files in the package.  (If you don't see the list, try clicking on the *Explorer* icon, circled in red below.) -->
<p>接下来，在 VS Code 中，从文件菜单中选择“Open Folder …”，然后打开之前下载的 HTPI Lean 软件包所在的文件夹。在窗口左侧的“Explorer”下，你应该能看到该软件包中的文件列表。（如果没有看到列表，尝试点击 <em>Explorer</em> 图标，下图中用红色圈出。）</p>
<p><img src="Images/OpenPackage.png" class="img-fluid"></p>
<!-- Click on the file "Blank.lean" in the file list.  You should see a warning that VS Code failed to start the 'lean' language server: -->
<p>点击文件列表中的“Blank.lean”文件，你应该会看到一个警告，提示 VS Code 启动“lean”语言服务器失败：</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Images/Install-elan.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<!-- Click on the "Install Lean using Elan" button, and Lean should be installed.  Then Lean should "build" the HTPI Lean package.  This may take a while, but it only has to be done once. -->
<p>点击“Install Lean using Elan”按钮，Lean 即刻被安装。然后，Lean 将 <em>构建</em> HTPI Lean 软件包。这可能需要一些时间，但好在构建只需执行一次。</p>
<!-- If anything goes wrong, try quitting VS Code and restarting.  Eventually your window should look like this: -->
<p>如果出现任何问题，请尝试退出 VS Code 并重新启动。最终，你的窗口应该如下所示：</p>
<p><img src="Images/Ready.png" class="img-fluid"></p>
<!-- If you don't see the Infoview pane on the right side of the window, click on the "$\forall$" icon circled in red in the image above and select "Infoview: Toggle Infoview" from the popup menu. -->
<p>如果你在窗口右侧没有看到 Infoview 面板，请点击上图中红色圈出的“<span class="math inline">\(\forall\)</span>”图标，然后从弹出菜单中选择“Infoview: Toggle Infoview”。</p>
<!-- Your installation is now complete. -->
<p>现在安装就完成了。</p>
<!-- ## Using Gitpod -->
</section>
<section id="使用-gitpod" class="level2">
<h2 class="anchored" data-anchor-id="使用-gitpod">使用 Gitpod</h2>
<!-- To open the Lean package that accompanies this book in Gitpod, click [here](https://gitpod.io/#https://github.com/djvelleman/HTPILeanPackage){target="_blank"}. -->
<p>要在 Gitpod 中打开与本书配套的 Lean 软件包，请点击<a href="https://gitpod.io/#https://github.com/djvelleman/HTPILeanPackage" target="_blank">这里</a>。</p>
<!-- You will be prompted to create a Gitpod account if you don't already have one; a free account gives you 50 hours of use per month.  Then you will be asked to create a "workspace".  Click on "Continue".  It will take some time to create your workspace and initialize Lean, but this only needs to be done once.  You will see messages about "cloning", "building", "downloading", and "decompressing".  Then there will be messages about "building" files for the chapters of this book.  (There will be some warning messages during this process, which you can ignore.)  The last message will be "building HTPILib".  When that process is complete, you can click on the "X" on the right side of the lower part of the window to close the terminal pane containing the messages.  You should see the HTPI Lean package, as described in the previous section.  Later, you can return to the workspace you just created from your [Gitpod user page](https://gitpod.io/workspaces){target="_blank"}. -->
<p>如果你还没有 Gitpod 账号，系统将会提示你创建一个；免费账号每月有 50 小时的使用时间。然后，你会被要求创建一个“workspace”。点击“Continue”。创建工作区并初始化 Lean 可能需要一些时间，但这只需进行一次。在此过程中，你会看到有关“cloning”、“building”、“downloading”和“decompressing”的消息。接下来会有关于为本书章节构建文件的消息。（在此过程中会出现一些警告消息，忽略它们即可。）最后一条消息是“Building HTPILib”。当该过程完成后，你可以点击窗口下方右侧的“X”关闭包含消息的终端面板。此时你应该能看到 HTPI Lean 软件包，如前一部分所述。之后，你可以从你的Gitpod 用户页面返回到刚创建的工作区。</p>
<!-- ## About the HTPI Lean Package -->
</section>
<section id="关于-htpi-lean-软件包" class="level2">
<h2 class="anchored" data-anchor-id="关于-htpi-lean-软件包">关于 HTPI Lean 软件包</h2>
<!-- For each chapter, starting with "Introduction to Lean," the package has a file containing all Lean definitions and theorems from that chapter.  There are also files containing all the exercises.  In the exercise file for a chapter, all definitions and theorems from that chapter and all earlier chapters are available for use in solving the exercises. -->
<p>从“Lean的介绍”开始，每一个章节都有一个对应的文件，包含该章节的所有 Lean 定义和定理。同时，某些章节还会有对应的包含习题的文件。在某一章的习题文件中，该章及之前所有章节的定义和定理都可以用于解决里面的习题。</p>
<!-- The chapter files are inside the folder "HTPILib".  There is also one other file in that folder.  All of these files are needed to make the package work.  *Do not edit the files in the HTPILib folder*, or you will need to re-download the package. -->
<p>章节文件位于“HTPILib”文件夹内，该文件夹中还有一个其他文件。这些文件都是使软件包正常工作的必需文件，请勿编辑 HTPILib 文件夹中的文件，否则你将需要重新下载软件包。</p>
</section>
<section id="许可证" class="level2">
<h2 class="anchored" data-anchor-id="许可证">许可证</h2>
<!-- This book is licensed under a [Creative Commons Attribution-ShareAlike 4.0 International License](http://creativecommons.org/licenses/by-sa/4.0/).  This license allows you to share or adapt the book.  In any adaptation, you must identify Daniel J. Velleman as the author, and you must also acknowledge that excerpts from *How To Prove It, 3rd edition*, copyright Daniel J. Velleman 2019, published by Cambridge University Press, are reprinted with the permission of Cambridge University Press.  Each such excerpt is identified in this book with a parenthetical note "(HTPI p. ...)" specifying the page of *How To Prove It, 3rd edition* from which the excerpt is taken.  For further details, see the text of the [license](https://creativecommons.org/licenses/by-sa/4.0/legalcode).  -->
<p>本书采用<a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>许可协议。此许可证允许你分享或改编本书。在任何改编中，你必须注明 Daniel J. Velleman 为作者，并且还必须承认摘录自 <em>How To Prove It, 3rd edition</em> 的内容（版权归 Daniel J. Velleman 2019，剑桥大学出版社出版）是经剑桥大学出版社许可转载的。本书中的每个摘录都用括号注释“(HTPI p.&nbsp;…)”来标明摘录自 <em>How To Prove It, 3rd edition</em> 的具体页码。有关详细信息，请参阅<a href="https://creativecommons.org/licenses/by-sa/4.0/legalcode">许可证</a>中的内容。</p>
<!-- ## Acknowledgments -->
</section>
<section id="致谢" class="level2">
<h2 class="anchored" data-anchor-id="致谢">致谢</h2>
<!-- A number of people have provided advice, encouragement, and feedback about this project.  In particular, I would like to thank Jeremy Avigad, Clayton Cafiero, François Dorais, Charles Hoskinson, Heather Macbeth, Pietro Monticone, and Ketil Wright. -->
<p>有很多人为这个项目提供了建议、鼓励和反馈。在此特别感谢 Jeremy Avigad、Clayton Cafiero、François Dorais、Charles Hoskinson、Heather Macbeth、Pietro Monticone 和 Ketil Wright 的帮助。</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
  </div>
  <div class="nav-page nav-page-next">
      <a href="./Chap1.html" class="pagination-link" aria-label="Sentential Logic">
        <span class="nav-page-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Sentential Logic</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>© 2023 Daniel J. Velleman.<br>Short excerpts from Daniel J. Velleman, <a href="https://doi.org/10.1017/9781108539890"><i>How To Prove It: A Structured Approach, 3rd Edition</i></a><br>© Daniel J. Velleman 2019, published by Cambridge University Press, reprinted with permission.</p>
</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>